{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\nlet timerId;\n\nconst timerElement = document.querySelector(\".timer\");\nconst startButton = document.querySelector('[data-start]');\nstartButton.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0];\n        if (selectedDate > new Date()) {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        } else {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Please choose a date in the future\",\n            });\n            startButton.disabled = true;\n        }\n    },\n};\nflatpickr(\"#datetime-picker\", options);\n\n\nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, \"0\");\n}\n\nfunction convertMs(milliseconds) {\n    const seconds = Math.floor((milliseconds / 1000) % 60);\n    const minutes = Math.floor((milliseconds / (1000 * 60)) % 60);\n    const hours = Math.floor((milliseconds / (1000 * 60 * 60)) % 24);\n    const days = Math.floor(milliseconds / (1000 * 60 * 60 * 24));\n\n    return { days, hours, minutes, seconds };\n}\n\n\nfunction updateTimer() {\n    const difference = userSelectedDate - new Date();\n\n    if (difference > 0) {\n        const { days, hours, minutes, seconds } = convertMs(difference);\n\n        const formattedDays = addLeadingZero(days);\n        const formattedHours = addLeadingZero(hours);\n        const formattedMinutes = addLeadingZero(minutes);\n        const formattedSeconds = addLeadingZero(seconds);\n\n        timerElement.textContent = `${formattedDays}:${formattedHours}:${formattedMinutes}:${formattedSeconds}`;\n    } else {\n        clearInterval(timerId);\n        timerElement.textContent = \"00:00:00:00\";\n    }\n}\n\n\nfunction startTimer() {\n    if (userSelectedDate > new Date()) {\n        updateTimer();\n        timerId = setInterval(updateTimer, 1000);\n        startButton.disabled = true;\n        document.getElementById(\"datetime-picker\").disabled = true;\n\n    } else {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please choose a date in the future\",\n        });\n    }\n}\n\nstartButton.addEventListener(\"click\", startTimer);"],"names":["userSelectedDate","timerId","timerElement","startButton","options","selectedDates","selectedDate","iziToast","flatpickr","addLeadingZero","value","convertMs","milliseconds","seconds","minutes","hours","updateTimer","difference","days","formattedDays","formattedHours","formattedMinutes","formattedSeconds","startTimer"],"mappings":"6vBAKA,IAAIA,EACAC,EAEJ,MAAMC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,SAAW,GAEvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,EAAe,IAAI,MACnBN,EAAmBM,EACnBH,EAAY,SAAW,KAEvBI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACzB,CAAa,EACDJ,EAAY,SAAW,GAE9B,CACL,EACAK,EAAU,mBAAoBJ,CAAO,EAGrC,SAASK,EAAeC,EAAO,CAC3B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C,CAEA,SAASC,EAAUC,EAAc,CAC7B,MAAMC,EAAU,KAAK,MAAOD,EAAe,IAAQ,EAAE,EAC/CE,EAAU,KAAK,MAAOF,GAAgB,IAAO,IAAO,EAAE,EACtDG,EAAQ,KAAK,MAAOH,GAAgB,IAAO,GAAK,IAAO,EAAE,EAG/D,MAAO,CAAE,KAFI,KAAK,MAAMA,GAAgB,IAAO,GAAK,GAAK,GAAG,EAE7C,MAAAG,EAAO,QAAAD,EAAS,QAAAD,CAAO,CAC1C,CAGA,SAASG,GAAc,CACnB,MAAMC,EAAajB,EAAmB,IAAI,KAE1C,GAAIiB,EAAa,EAAG,CAChB,KAAM,CAAE,KAAAC,EAAM,MAAAH,EAAO,QAAAD,EAAS,QAAAD,GAAYF,EAAUM,CAAU,EAExDE,EAAgBV,EAAeS,CAAI,EACnCE,EAAiBX,EAAeM,CAAK,EACrCM,EAAmBZ,EAAeK,CAAO,EACzCQ,EAAmBb,EAAeI,CAAO,EAE/CX,EAAa,YAAc,GAAGiB,CAAa,IAAIC,CAAc,IAAIC,CAAgB,IAAIC,CAAgB,EAC7G,MACQ,cAAcrB,CAAO,EACrBC,EAAa,YAAc,aAEnC,CAGA,SAASqB,GAAa,CACdvB,EAAmB,IAAI,MACvBgB,IACAf,EAAU,YAAYe,EAAa,GAAI,EACvCb,EAAY,SAAW,GACvB,SAAS,eAAe,iBAAiB,EAAE,SAAW,IAGtDI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACrB,CAAS,CAET,CAEAJ,EAAY,iBAAiB,QAASoB,CAAU"}